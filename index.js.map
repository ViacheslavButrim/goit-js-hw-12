{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '52783662-08dd67e4a79565a2d6e8bbcbe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 40, \n  };\n\n  // return promise: unswer axios.then -> response.data\n  return axios\n    .get(BASE_URL, { params })\n    .then(response => response.data); \n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst GALLERY_SELECTOR = '.gallery';\nconst LOADER_SELECTOR = '.loader';\n\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\n// initial SimpleLightbox \nexport const lightbox = new SimpleLightbox(`${GALLERY_SELECTOR} a`, {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// create and add murkup of gallery \nexport function createGallery(images) {\n  if (!galleryEl) return;\n\n  const markup = images\n    .map(image => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = image;\n\n      return `\n        <li class=\"gallery__item\">\n          <a class=\"gallery__link\" href=\"${largeImageURL}\">\n            <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n              <p class=\"info__item\"><b>Likes</b><span>${likes}</span></p>\n              <p class=\"info__item\"><b>Views</b><span>${views}</span></p>\n              <p class=\"info__item\"><b>Comments</b><span>${comments}</span></p>\n              <p class=\"info__item\"><b>Downloads</b><span>${downloads}</span></p>\n            </div>\n          </a>\n        </li>\n      `;\n    })\n    .join('');\n\n  // add new elements in DOM \n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  // update SimpleLightbox\n  lightbox.refresh();\n}\n\n// clear container contents \nexport function clearGallery() {\n  if (!galleryEl) return;\n  galleryEl.innerHTML = '';\n  // update lightbox after clearing\n  lightbox.refresh();\n}\n\nconst loaderBackdrop = document.querySelector('.loader-backdrop');\n\nexport function showLoader() {\n  if (!loaderBackdrop) return;\n  loaderBackdrop.classList.add('is-active');\n}\n\nexport function hideLoader() {\n  if (!loaderBackdrop) return;\n  loaderBackdrop.classList.remove('is-active');\n}","import { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// selectors\nconst form = document.querySelector('.form');\nconst input = form.querySelector('input[name=\"search-text\"]');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  const query = input.value.trim();\n\n  // checking\n  if (!query) {\n    iziToast.error({\n      title: 'Warning',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  // starting a search\n  showLoader();\n  clearGallery();\n   \n  // claer a field\n    form.reset();\n\n  getImagesByQuery(query)\n    .then(data => {\n      // hits â€” array of images\n      const images = data.hits;\n\n      if (!Array.isArray(images) || images.length === 0) {\n        iziToast.error({\n          title: '',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      // create a gallery if we have a result\n      createGallery(images);\n\n      iziToast.success({\n        title: '',\n        message: `Found ${data.totalHits ?? images.length} images.`,\n        position: 'topRight',\n      });\n    })\n    .catch(error => {\n      // query error handling\n      console.error('Pixabay API error:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong while fetching images. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      // Hide the loader\n      hideLoader();\n    });\n}"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","response","GALLERY_SELECTOR","galleryEl","lightbox","SimpleLightbox","createGallery","images","markup","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","loaderBackdrop","showLoader","hideLoader","form","input","onSearch","event","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAGE,OAAOE,EACJ,IAAIJ,EAAU,CAAE,OAAAG,EAAQ,EACxB,KAAKE,GAAYA,EAAS,IAAI,CACnC,CCfA,MAAMC,EAAmB,WAGnBC,EAAY,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAG1C,MAAMC,EAAW,IAAIC,EAAe,GAAGH,CAAgB,KAAM,CAClE,aAAc,MACd,aAAc,GAChB,CAAC,EAGM,SAASI,EAAcC,EAAQ,CACpC,GAAI,CAACJ,EAAW,OAEhB,MAAMK,EAASD,EACZ,IAAIE,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA,2CAE8BE,CAAa;AAAA,+CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,wDAEjBC,CAAK;AAAA,wDACLC,CAAK;AAAA,2DACFC,CAAQ;AAAA,4DACPC,CAAS;AAAA;AAAA;AAAA;AAAA,OAKrE,CAAK,EACA,KAAK,EAAE,EAGVb,EAAU,mBAAmB,YAAaK,CAAM,EAGhDJ,EAAS,QAAO,CAClB,CAGO,SAASa,GAAe,CACxBd,IACLA,EAAU,UAAY,GAEtBC,EAAS,QAAO,EAClB,CAEA,MAAMc,EAAiB,SAAS,cAAc,kBAAkB,EAEzD,SAASC,GAAa,CACtBD,GACLA,EAAe,UAAU,IAAI,WAAW,CAC1C,CAEO,SAASE,GAAa,CACtBF,GACLA,EAAe,UAAU,OAAO,WAAW,CAC7C,CClEA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,2BAA2B,EAE5DA,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAM1B,EAAQwB,EAAM,MAAM,KAAI,EAG9B,GAAI,CAACxB,EAAO,CACV2B,EAAS,MAAM,CACb,MAAO,UACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAGDN,IACAF,IAGEI,EAAK,MAAK,EAEZxB,EAAiBC,CAAK,EACnB,KAAK4B,GAAQ,CAEZ,MAAMnB,EAASmB,EAAK,KAEpB,GAAI,CAAC,MAAM,QAAQnB,CAAM,GAAKA,EAAO,SAAW,EAAG,CACjDkB,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAGDnB,EAAcC,CAAM,EAEpBkB,EAAS,QAAQ,CACf,MAAO,GACP,QAAS,SAASC,EAAK,WAAanB,EAAO,MAAM,WACjD,SAAU,UAClB,CAAO,CACP,CAAK,EACA,MAAMoB,GAAS,CAEd,QAAQ,MAAM,qBAAsBA,CAAK,EACzCF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sEACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAEbL,GACN,CAAK,CACL"}